<p-dialog  [positionTop]=50 [draggable]="false" *ngIf="Inpdisplay" [(visible)]="Inpdisplay" [width]=600 [closeOnEscape]="false" [modal]="true" (onHide)="OnHIde()" [closable]="false"  >
	<p-header>
	<div [formGroup]="formPerson" >
	<label *ngIf="_funtions.IsRegistrar()">Registrar Estudiante</label>
	<label *ngIf="_funtions.IsEditar()">Editar Estudiante</label>
	<label *ngIf="_funtions.IsMostrar()">Mostrar Estudiante</label>
	<p-toggleButton  styleClass="btn-default pull-right" formControlName="estado" onLabel="Activo" offLabel="Inactivo" onIcon="pi pi-check" offIcon="pi pi-times" [style]="{'width':'150px'}"></p-toggleButton>
	</div>
</p-header>
<div class="box-body">
	<form [formGroup]="formPerson"  (ngSubmit)="onSubmit()" >
		<div class="input-group">
			<!-- <div class="user user-menu" *ngIf="imgPerson && imgPerson !== 'null' && imgPerson !== 'undefined'"> -->
			<div class="user user-menu" style="right: 50px;">
				<img class="user-image" style="height: 143px; width: 143px; border-radius: 80px; margin-left: 193px" src="{{imgPerson!= null?imgPerson:'assets/myimages/user_default.png'}}">
			</div>
			<!-- <p-fileUpload mode="basic" name="myfile[]"  chooseLabel="Imagen"  customUpload="true" (onSelect)="onFileChange($event)"></p-fileUpload> -->
		</div>
		
		<div class="input-group">
			<span class="input-group-addon">*Nombres</span>
			<input  autofocus  type="text" class="form-control uppercase" formControlName="nombres"required >
		</div>
		<br>
		<div class="input-group">
			<span class="input-group-addon">*Apellidos</span>
			<input type="text" class="form-control uppercase" formControlName="apellidos" required>
		</div>
		<br>
		<div class="input-group">
			<span class="input-group-addon">Dirección</span>
			<input type="text" class="form-control uppercase" formControlName="direccion">
		</div>
		<br>
		<div class="row" style="padding-bottom:16px">
			<div class="col-lg-6">
				<div class="input-group">
					<span class="input-group-addon">*Cedula</span>
					<!-- <input type="text" class="form-control" formControlName="cedula"> -->
				<p-inputMask mask="999-9999999-9" formControlName="cedula" [style]="{'border-radius': '1px 6px 6px 1px','height':'34px','width':'100%','border': '1px solid #d0caca'}" placeholder="999-9999999-9"></p-inputMask>
			</div>
		</div>
		<!-- <br> -->
		<div class="col-lg-6">
			<div class="input-group">
				<span class="input-group-addon"><i class="fa fa-envelope"></i></span>
				<input type="email" class="form-control" placeholder="Email" formControlName="email">
			</div>
		</div>
	</div>
	<div class="row" style="padding-bottom:16px">
		<div class="col-lg-6">
			<label>*Carrera</label>
			<div class="form-group">
				<div class="input-group">
					<!-- <span class="input-group-addon"><i class="fa fa-phone"></i></span> -->
					<p-autoComplete formControlName="carrera" value='carrera.id' [suggestions]="filteredCarreras" [style]="{'height':'36px'}" [inputStyle]="{'border': '1px solid #d0caca'}" (completeMethod)="filterCarreras($event)" field="abrNombre" [size]="15" [minLength]="1" placeholder="Carreras" [dropdown]="true" [readonly]="true" required>
						<ng-template let-carrera pTemplate="item" >
						<div class="ui-helper-clearfix" style="border-bottom:1px solid #D5D5D5">
							<!-- <img src="assets/showcase/images/demo/car/{{brand}}.png" style="width:32px;display:inline-block;margin:5px 0 2px 5px"/> -->
							<div style="font-size:18px;float:right;margin:10px 10px 0 0">{{carrera.abrNombre}}</div>
						</div>
						</ng-template>
					</p-autoComplete>
				</div>
			</div>
		</div>
		<div class="col-lg-6">
			<label>Teléfono</label>
			<div class="form-group">
				<div class="input-group">
					<span class="input-group-addon"><i class="fa fa-phone"></i></span>
				<p-inputMask mask="(999) 999-9999" formControlName="telefono" [style]="{'border-radius': '1px 6px 6px 1px','height':'34px','width':'100%','border': '1px solid #d0caca'}" placeholder="(999) 999-9999"></p-inputMask>
			</div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-lg-6">
		<div class="input-group">
			<span class="input-group-addon">*Nombre de usuario</span>
			<p-inputMask mask="aa99-9999" placeholder="az99-9999"  type="text"  formControlName="usuario" [readonly]="id!=null"  required></p-inputMask>
		</div>
	</div>
	<div class="col-lg-6">
		<div class="progress-group" *ngIf="id!=null">
			<span class="progress-text">Horas Acumuladas</span>
			<span class="progress-number"><b>{{formPerson.controls.horasAcumuladas.value}}</b>/{{formPerson.controls.carrera.value.horasRequeridas}}</span>
			<div class="progress sm">
				<div class="progress-bar progress-bar-aqua" [ngStyle]="{'width': ((formPerson.controls.horasAcumuladas.value/formPerson.controls.carrera.value.horasRequeridas)*100)+'%' }"></div>
			</div>
		</div>
	</div>
</div>
<br>
<div class="row">
	<div class="col-lg-6">
		<div class="input-group">
			<span class="input-group-addon">*Matricula</span>
			<p-inputMask mask="99-9999"  type="text" minlength="5" placeholder="99-9999"  formControlName="matricula" [readonly]="id!=null" required></p-inputMask>
		</div>
	</div>
	<!-- <br> -->
	<div class="col-lg-6">
		<div class="input-group">
			<span class="input-group-addon">*Carnet</span>
			<input type="text" maxlength="16" placeholder="9999999999999999"  class="form-control" formControlName="carnet" >
		</div>
	</div>
</div>
<!-- <br> -->
<!-- <div class="row">
		<div class="col-lg-6">
				<div class="input-group">
			<span class="input-group-addon">Clave</span>
			<input type="password" minlength="4" pPassword style="border: 1px solid #d0caca" class="form-control" formControlName="clave" required>
			</div>
		</div>
		<div class="col-lg-6">
				<div class="input-group">
				<span class="input-group-addon">Confirmar Clave</span>
				<input type="password" minlength="4" pPassword style="border: 1px solid #d0caca" class="form-control" formControlName="claveConfirm" required >
				</div>
		</div>
</div>
<br> -->
</form>
</div>

<p-footer>
<button type="button" class="btn btn-danger pull-left"   (click)="salir()">Salir</button>
	<button type="button" class="btn btn-success" [disabled]="formPerson.invalid" (click)="onSubmit()" *ngIf="_funtions.IsRegistrar() || _funtions.IsEditar()">
			<span *ngIf="id==null">Registrar</span>
			<span *ngIf="id!=null && !_funtions.IsMostrar()">Actualizar</span>
		</button>		
		<button type="button" class="btn btn-success" [disabled]="formPerson.invalid" [routerLink]="['/estudiantes',id,'editar']" *ngIf="_funtions.IsMostrar()">
			<span>Editar</span>
		</button>
</p-footer>

</p-dialog>